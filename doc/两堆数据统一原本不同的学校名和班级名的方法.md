# 两堆数据统一原本不同的学校名和班级名的方法

## 背景
这里有两堆数据 堆A 和 堆B

```
堆A 的数据
|姓名|学校    |班级|分数|
|常娟|某某一中|九3 |1   |
|罗鑫|某某一中|九2 |3   |
|罗鑫|某某一中|九3 |2   |

堆B 的数据
|姓名|学校            |班级|分数|
|常娟|某某市第一实验中学|三班|9  |
|罗鑫|某某市第一实验中学|二班|4  |
|罗鑫|某某市第一实验中学|三班|6  |
```

注意观察上面两堆数据，
堆A 和 堆B 中出现了姓名相同的人 (罗鑫)

如果我想比对 3班 罗鑫在 堆A 和 堆B 中的分数
那么我会用 条件(`姓名`="罗鑫") 来 分别调出 堆A 和 堆B 中她的分数
这样在 堆A 和 堆B 中得到的数据就会分别有两个：一个是二班的罗鑫，一个是三班的罗鑫
所以，仅仅只有 姓名相同 这个条件，不能准确地调出想要的数据

如果我再添加更多的条件，用 条件(`姓名`="罗鑫" 并且 `学校`="某某一中" 并且 `班级`="三班") 来 分别调出两堆中她的分数
这样才能准确地调出 某某一中 三班罗鑫 的分数

问题是 堆A 和 堆B 中的 `学校`名 和 `班级`名 格式都不一样
所以需要把格式统一，如下所示，才能做上述操作
问题是怎么才能格式统一？


目标：通过程序，让 堆A 和 堆B 中的 `学校`名 和 `班级`名 格式统一，目标效果如下所示

```
堆A 的数据
|姓名|学校    |班级|分数|
|常娟|某某一中|九3 |1	|
|罗鑫|某某一中|九2 |3	|
|罗鑫|某某一中|九3 |2	|

堆B 的数据
|姓名|学校	  |班级|分数|
|常娟|某某一中|九3 |9   | 
|罗鑫|某某一中|九2 |4   |
|罗鑫|某某一中|九3 |6   |
```

## 方法

> 统一 `学校`名 和 `班级`名 的方法。将 条件(`姓名`="常娟") 的数据作为桥梁

分别查询 堆A 和 堆B

条件(`姓名`="常娟") P.S: 选择名字的要求是 不重复出现的名字，即在全市考生中独一无二的名字

结果如下：
```
堆A 的数据
|姓名|学校    |班级|分数|
|常娟|某某一中|九3 |1	|

堆B 的数据
|姓名|学校				|班级|分数|
|常娟|某某市第一实验中学|三班|9   |
```

可以得知 `班级`名：堆A中的"某某一中"=堆B中的"某某市第一实验中学", "九3"="三班"

然后 拿一个表 (名为：$B2A，意为：堆B 到 堆A) 来记录
```
"[KEY]"="[VALUE]"   
"某某市第一实验中学"="某某一中",
"三班"="九3"
```

程序最后的操作：
查询 堆B
遍历所有数据 `foreach ($query as $id => $value):`
每项判断 $value 是否以KEY的形式存在于 $B2A 中，若存在则执行 UPDATE `$value`="$B2A[$value]" WHERE `id`="$id"

这样 堆A 和 堆B 中的 `学校`名 和 `班级`名 格式就统一了，都分别是 "某某一中" 和 "九3"

效果如下：

```
堆A 的数据
|姓名|学校    |班级|分数|
|常娟|某某一中|九3 |1	|
|罗鑫|某某一中|九2 |3	|
|罗鑫|某某一中|九3 |2	|

堆B 的数据
|姓名|学校	  |班级|分数|
|常娟|某某一中|九3 |9   | 
|罗鑫|某某一中|九2 |4   |
|罗鑫|某某一中|九3 |6   |
```

# 作者
[ZNEIAT](http://www.qwqaq.com)
